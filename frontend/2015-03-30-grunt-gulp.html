<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Grunt &amp; Gulp | Cake17&#39;s Blog</title>
    <meta name="description" content="Grunt &amp; Gulp - 2 outils pour les mêmes besoins">
    
    
    <link rel="preload" href="/assets/css/0.styles.5852889d.css" as="style"><link rel="preload" href="/assets/js/app.e0c4edb2.js" as="script"><link rel="preload" href="/assets/js/21.cd9fdbbe.js" as="script"><link rel="prefetch" href="/assets/js/10.998276c8.js"><link rel="prefetch" href="/assets/js/11.896d00f2.js"><link rel="prefetch" href="/assets/js/12.65c2ceeb.js"><link rel="prefetch" href="/assets/js/13.0f03f8ba.js"><link rel="prefetch" href="/assets/js/14.89e54d46.js"><link rel="prefetch" href="/assets/js/15.e43801fe.js"><link rel="prefetch" href="/assets/js/16.fe34f3f2.js"><link rel="prefetch" href="/assets/js/17.e270c220.js"><link rel="prefetch" href="/assets/js/18.0bcf9e03.js"><link rel="prefetch" href="/assets/js/19.41e1c2ce.js"><link rel="prefetch" href="/assets/js/2.5b07ba1d.js"><link rel="prefetch" href="/assets/js/20.5581d075.js"><link rel="prefetch" href="/assets/js/22.901a2580.js"><link rel="prefetch" href="/assets/js/23.24427036.js"><link rel="prefetch" href="/assets/js/24.f024c1da.js"><link rel="prefetch" href="/assets/js/25.6ec27adf.js"><link rel="prefetch" href="/assets/js/26.6d25719f.js"><link rel="prefetch" href="/assets/js/27.db20f982.js"><link rel="prefetch" href="/assets/js/28.ec73571f.js"><link rel="prefetch" href="/assets/js/29.f27545de.js"><link rel="prefetch" href="/assets/js/3.f1c19b2b.js"><link rel="prefetch" href="/assets/js/4.aab09496.js"><link rel="prefetch" href="/assets/js/5.869e58a5.js"><link rel="prefetch" href="/assets/js/6.b9eaa4b1.js"><link rel="prefetch" href="/assets/js/7.27bc636d.js"><link rel="prefetch" href="/assets/js/8.ea5ae0d2.js"><link rel="prefetch" href="/assets/js/9.ccc6d1ea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5852889d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Cake17's Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Dev</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/2013-03-17-contributing-to-cakephp-docs.html" class="nav-link">Backend (PHP)</a></li><li class="dropdown-item"><!----> <a href="/frontend/2015-03-30-grunt-gulp.html" class="nav-link router-link-exact-active router-link-active">Frontend (HTML, CSS, Javascript, ...)</a></li><li class="dropdown-item"><!----> <a href="/devtools/2014-10-15-ssh-keys.html" class="nav-link">Tools</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/macos/2014-10-25-install-os-x.html" class="nav-link">MAC OS</a></li><li class="dropdown-item"><!----> <a href="/2015-07-25-nombres-binaires-informatiques.html" class="nav-link">General</a></li></ul></div></div><div class="nav-item"><a href="/2014-09-16-list-of-projects.html" class="nav-link">Projects</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Dev</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/2013-03-17-contributing-to-cakephp-docs.html" class="nav-link">Backend (PHP)</a></li><li class="dropdown-item"><!----> <a href="/frontend/2015-03-30-grunt-gulp.html" class="nav-link router-link-exact-active router-link-active">Frontend (HTML, CSS, Javascript, ...)</a></li><li class="dropdown-item"><!----> <a href="/devtools/2014-10-15-ssh-keys.html" class="nav-link">Tools</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/macos/2014-10-25-install-os-x.html" class="nav-link">MAC OS</a></li><li class="dropdown-item"><!----> <a href="/2015-07-25-nombres-binaires-informatiques.html" class="nav-link">General</a></li></ul></div></div><div class="nav-item"><a href="/2014-09-16-list-of-projects.html" class="nav-link">Projects</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frontend/2015-03-30-grunt-gulp.html" class="active sidebar-link">Grunt &amp; Gulp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/2016-06-07-show-presentation.html" class="sidebar-link">Bespoke.js - Show Presentation</a></li><li><a href="/frontend/2018-05-10-css-sass.html" class="sidebar-link">Css, Sass</a></li></ul> </div> <div class="page"> <div class="content"><h3 id="grunt-gulp"><a href="#grunt-gulp" aria-hidden="true" class="header-anchor">#</a> Grunt &amp; Gulp</h3> <p>Grunt et Gulp sont 2 outils qui permettent d'automatiser des tâches habituelles lorsque l'on développe des sites web. Par exemple, vous pourrez faire les tâches suivantes:</p> <ul><li>minifier un css : c'est à dire enlever tous les espaces se trouvant dans un fichier css ce qui va diminuer la taille du fichier et accélerer le chargement de ce fichier.</li> <li>concaténer des css : vous allez pouvoir concaténer c'est-à-dire fusionner des fichiers css ensemble. Encore avec les mêmes conséquences sur le chargement de votre page web puisqu'on n'aura qu'un seul fichier et donc un seul appel HTTP pour récupérer le fichier css (au lieu d'appeler x fichiers css).</li> <li>compiler des css : permet de compiler c'est à dire transformer des fichiers en format sass ou less en un format css lisible par les navigateurs. Sass ou less sont des dérivés du langage css qui permettent d'utiliser des variables (un article est en préparation sur ce sujet...)</li> <li>tester vos fichiers css et js...</li></ul> <p>Vous devez installer node.js pour utiliser ces deux outils : <code>brew install node</code> sur un mac.</p> <p>Je vais plutôt utiliser gulp qui permet d'utiliser des flux et donc permet d'éviter des étapes intermédiaires. Je vais donc décrire précisemment gulp mais vous pourrez trouver à la fin de l'article la façon d'installer Grunt.</p> <h4 id="gulp"><a href="#gulp" aria-hidden="true" class="header-anchor">#</a> Gulp</h4> <h5 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h5> <p>Pour pouvoir utiliser gulp, vous devez d'abord avoir node installé. Pour un mac, vous pouvez utiliser brew:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>brew <span class="token function">install</span> node
</code></pre></div><p><a href="https://www.npmjs.com" target="_blank" rel="noopener noreferrer">npm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> est un gestionnaire de dépendances pour javascript. Pour installer des paquets pour votre projet, la meilleure façon est de créer un fichier <code>package.json</code> à la racine de votre projet. Par exemple:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blog.cake-websites.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Blog website&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://blog.cake-websites.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cake17/blog.cake-websites.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cake17 &lt;cake17@cake-websites.com&gt; (http://www.cake-websites.com/)&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;tabs&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ce fichier décrit votre projet et les informations seront utiles si vous décidez de rendre votre projet public. Et donc le principal intêret de ce fichier est de décrire toutes les dépendances de votre projet et leurs versions. Si nous voulons installer gulp, nous pouvons faire la commande suivante:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> gulp --save
</code></pre></div><p>This will add the following in the <code>package.json</code>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;gulp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.9.0&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Maintenant nous allons créer des tâches que gulp accomplira. Tout ceci se fait dans un fichier <code>gulpfile.js</code> que vous pouvez créer à la racine de votre projet. Dans ce fichier vous allez mettre toutes les dépendances de gulp pour votre projet, que vous pouvez trouver sur le <a href="http://gulpjs.com/plugins" target="_blank" rel="noopener noreferrer">site des plugins<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Les plugins que j'utilise régulièrement sont les suivants:</p> <ul><li>gulp</li> <li>gulp-sass : compile les fichiers sass en CSS</li> <li>gulp-minify-css : minifie le css</li> <li>gulp-concat : fusionne des fichiers</li> <li>gulp-uglify : minifie le js</li> <li>gulp-rename</li></ul> <p>On les met au début du fichier <code>gulpfile.js</code> comme ceci:</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        sass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-sass'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        minify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-minify-css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        concat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-concat'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-uglify'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        rename <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-rename'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="workflow"><a href="#workflow" aria-hidden="true" class="header-anchor">#</a> Workflow</h5> <p>On va utiliser bower ou composer pour gérer les dépendances des libraires css et js. J'utilise par exemple <a href="http://foundation.zurb.com/docs" target="_blank" rel="noopener noreferrer">foundation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> qui est un framework css très utile.</p> <h5 id="bower-ou-composer"><a href="#bower-ou-composer" aria-hidden="true" class="header-anchor">#</a> Bower ou Composer ?</h5> <p>Pour installer les dépendances <code>css</code> et <code>js</code> habituelles (jquery, foundation, bootstrap, ...), vous pouvez utiliser plusieurs gestionnaires de paquets. Dans le cas où j'utilise déjà des paquets PHP, je préfère utiliser aussi Composer pour les paquets des assets Js et css. Sinon vous pouvez toujours utiliser bower comme décrit ci-dessous.</p> <h5 id="composer"><a href="#composer" aria-hidden="true" class="header-anchor">#</a> Composer</h5> <p>Dans le fichier <code>composer.json</code>:
&lt;!--</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;require-dev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;twbs/bootstrap&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v4.0.0-alpha&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;components/jquery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~2.1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;components/modernizr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~2.8&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
``` --&gt;

##### Bower

On crée un fichier `.bowerrc` qui contient les configurations pour Bower et notamment le dossier où vous allez télécharger vos dépendances.

&lt;!-- ```json
<span class="token punctuation">{</span>
  <span class="token property">&quot;directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bower_components&quot;</span>
<span class="token punctuation">}</span>
```--&gt;

Les dépendances que vous souhaitez seront dans `bower.json`<span class="token operator">:</span>

&lt;!-- ```json
<span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-app&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;foundation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zurb/bower-foundation&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
``` --&gt;

J'ai donc mis foundation en dépendance. Il me suffit maintenant de taper `bower install` dans mon terminal. Il faut bien mettre le dossier bower_components dans .gitignore car ce dossier ne sert que pour le développement. Grâce justement à gulp ou grunt<span class="token punctuation">,</span> vous allez pouvoir copier et utiliser les fichiers de libraires css ou js tiers.

On peut noter également qu'il n'est pas nécessaire d'ajouter jquery en dépendance (foundation en a besoin) car jquery est déjà une dépendance de foundation et va donc se télécharger dans le dossier `bower_components`.

Pour bien comprendre les tâches<span class="token punctuation">,</span> je vais séparer mes dossier en deux<span class="token operator">:</span>
- un dossier /public
- un dossier /dev

Le dossier /public va contenir les css et js minifiés et concaténés. On va grâce à gulp avoir <span class="token number">2</span> fichiers dans ce dossier<span class="token operator">:</span> frontend.min.css et frontend.min.js. Ce sont donc ces deux fichiers qu'on va inclure dans les balises &lt;head&gt; du layout de notre projet. Les images et icones seront aussi dans ce dossier qui doit être accessible aux personnes naviguant sur votre site.

Le dossier /dev contient lui les fichiers de développement comme les fichiers sass et js que le développeur va pouvoir modifier avant d'utiliser gulp pour créer nos <span class="token number">2</span> fichiers css et js pour la production.

Dans le fichier `gulpfile.js`<span class="token punctuation">,</span> je vais donc créer une variable `paths` qui va nous indiquer les chemins vers les différents dossiers<span class="token operator">:</span>

```js
var paths = <span class="token punctuation">{</span>
    'dev'<span class="token operator">:</span> <span class="token punctuation">{</span>
        'scss'<span class="token operator">:</span> './dev/scss/'<span class="token punctuation">,</span>
        'js'<span class="token operator">:</span> './dev/js/'
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    'public'<span class="token operator">:</span> <span class="token punctuation">{</span>
        'css'<span class="token operator">:</span> './public/css/'<span class="token punctuation">,</span>
        'js'<span class="token operator">:</span> './public/js/'
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    'vendor'<span class="token operator">:</span> <span class="token punctuation">{</span>
        'bower'<span class="token operator">:</span> './bower_components/'
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>;
</code></pre></div><h5 id="les-taches-gulp"><a href="#les-taches-gulp" aria-hidden="true" class="header-anchor">#</a> Les Tâches gulp</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// --- TASKS</span>
<span class="token comment">// Generate CSS App file</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'app.css'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// place code for your default task here</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./dev/scss/*.scss'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">sass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          includePaths<span class="token punctuation">:</span> <span class="token punctuation">[</span>paths<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>bower<span class="token operator">+</span><span class="token string">'foundation/scss'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token punctuation">{</span>suffix<span class="token punctuation">:</span> <span class="token string">'.min'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span>public<span class="token punctuation">.</span>css<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generate Js App File</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'app.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        paths<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>bower<span class="token operator">+</span><span class="token string">'jquery/dist/jquery.min.js'</span><span class="token punctuation">,</span>
        paths<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>bower<span class="token operator">+</span><span class="token string">'foundation/js/foundation.min.js'</span><span class="token punctuation">,</span>
        paths<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>bower<span class="token operator">+</span><span class="token string">'fastclick/lib/fastclick.js'</span><span class="token punctuation">,</span>
        paths<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>bower<span class="token operator">+</span><span class="token string">'modernizr/modernizr.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'app.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token punctuation">{</span>suffix<span class="token punctuation">:</span> <span class="token string">'.min'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span>public<span class="token punctuation">.</span>js<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Ces 2 tâches app.css et app.js se lancent respectivement avec les commandes <code>gulp app.css</code> et <code>gulp app.js</code>.</p> <p>Pour le css, cela va récupérer tous les fichiers se trouvant dans <code>/dev/scss</code>, les regrouper, les minifier et enfin enregistrer le fichier sous <code>/public/css/app.min.css</code>.</p> <p>Pour le js, la tâche va regrouper tous les fichiers js qui se trouvent en majorité dans le dossier bower_components (les librairies js de foundation, jquery, modernizr, ...) et créer un fichier js sous <code>/public/js/app.min.js</code>.</p> <h5 id="integration-dans-votre-layout"><a href="#integration-dans-votre-layout" aria-hidden="true" class="header-anchor">#</a> Intégration dans votre layout</h5> <p>Il ne reste plus qu'à ajouter une balise d'insertion vers le css dans le head de votre page:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>public/css/app.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Et le js à intégrer avant la balise fermante .</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>public/js/app.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Si vous voulez voir à quoi ressemble le fichier <code>gulpfile.js</code> dans son ensemble, vous pouvez aller sur le <a href="https://github.com/cake17/cake17.github.io/blob/master/_posts/2015-30-30-grunt-gulp.md" target="_blank" rel="noopener noreferrer">dépôt github de ce site<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> puisqu'il utilise ces techniques.</p> <h4 id="grunt"><a href="#grunt" aria-hidden="true" class="header-anchor">#</a> Grunt</h4> <h5 id="installation-2"><a href="#installation-2" aria-hidden="true" class="header-anchor">#</a> Installation</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g grunt-cli
</code></pre></div><p>Créez un fichier Gruntfile.js dans votre projet. Vous mettrez les dépendances nécessaires à l'utilisation de Grunt.</p> <p>Dépendances utiles <a href="http://gruntjs.com/plugins" target="_blank" rel="noopener noreferrer">ici<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>grunt-contrib-concat : concatène</li> <li>grunt-contrib-uglify : minifie</li> <li>grunt-contrib-jshint : verify that a js is ready to minify</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/frontend/2016-06-07-show-presentation.html">
          Bespoke.js - Show Presentation
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.e0c4edb2.js" defer></script><script src="/assets/js/21.cd9fdbbe.js" defer></script>
  </body>
</html>
