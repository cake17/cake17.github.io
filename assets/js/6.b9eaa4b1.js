(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{169:function(t,e,s){t.exports=s.p+"assets/img/deploy-cakephp.6a5eb766.png"},193:function(t,e,s){"use strict";s.r(e);var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"brief-explanations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#brief-explanations","aria-hidden":"true"}},[this._v("#")]),this._v(" Brief explanations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(169),alt:"Deploy Schema"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"_1-remote"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-remote","aria-hidden":"true"}},[this._v("#")]),this._v(" 1 Remote")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_1-1-access-to-remote"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-access-to-remote","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 Access to Remote")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" git@serveName\n// or "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you changed your "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" port on your server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strongly advised :-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v(".\n// For example "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" your "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" port is on 7373.\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" git@serveName -p 7373\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_1-2-create-a-git-bare-repository"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-create-a-git-bare-repository","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 Create a Git Bare Repository")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" /volume1/repositories/prod\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" init --bare cakephp3-test.git\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_1-3-setup-git-hooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-setup-git-hooks","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3 Setup Git Hooks")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create the file "),e("code",[this._v("hooks/post-receive")]),this._v(" and add this,\n"),e("code",[this._v("vi cakephp3-test.git/hooks/post-receive")]),this._v(":")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## store the arguments given to the script")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),t._v(" oldrev newrev refname\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The deployed directory (the running site)")]),t._v("\nDEPLOYDIR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/volume1/web/cakephp3-test\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Where to store the log information about the updates")]),t._v("\nLOGFILE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./post-receive.log\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##  Record the fact that the push has been received")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" -e "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Received Push Request at '),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%F "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LOGFILE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" - Old SHA: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$oldrev")]),t._v(" New SHA: "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$newrev")]),t._v(" Branch Name: "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$refname")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LOGFILE")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# deploy only for master branch")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ref")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("~ .*/master$ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Update the deployed copy")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Starting Deploy"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LOGFILE")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" - Starting code update"')]),t._v("\n  GIT_WORK_TREE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOYDIR")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -f\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" - Finished code update"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" - Starting composer install"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEPLOYDIR")]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" php composer.phar "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --prefer-dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" -\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" - Finished composer install"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Finished Deploy"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LOGFILE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("And create the folder in "),e("code",[this._v("/volume1/web/cakephp3-test")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"_2-local"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-local","aria-hidden":"true"}},[this._v("#")]),this._v(" 2 Local")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_2-1-create-a-cakephp-repo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-create-a-cakephp-repo","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 Create a CakePHP repo")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("composer create-project --prefer-dist -s dev cakephp/app cakephp3-test\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" cakephp3-test\n// "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" composer.phar\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sS https://getcomposer.org/installer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" php\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n// remove tmp/ and logs/ from .gitignore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temporarly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n// "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" plugins/DebugKit "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" .gitignore\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" --all\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -a -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"initialize cakephp3 project"')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_2-2-push-to-remote"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-push-to-remote","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 Push to Remote")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" remote "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("add")]),this._v(" origin ssh://syno_git/volume1/repositories/prod/cakephp3-test.git\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" push origin master\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"_3-remote"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-remote","aria-hidden":"true"}},[this._v("#")]),this._v(" 3 Remote")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_3-1-apache-config-on-synology"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-apache-config-on-synology","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1 Apache Config On Synology")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-vim extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vim"}},[s("code",[t._v("Nom du Sous"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dossier    Nom "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("d")]),t._v("'"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("h")]),t._v("ô"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("te")]),t._v("\ncakephp3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("test   www"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("nomdomaine"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("com")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_3-2-check-the-website"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-check-the-website","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2 Check the Website")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("if a php extension is missing, you'll see it.")]),this._v(" "),e("li",[this._v("if your directories are writable or not")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_3-3-config-of-app-php-on-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-config-of-app-php-on-server","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.3 Config of app.php on Server")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Go with ssh on remote and type "),e("code",[this._v("vi /volume1/web/cakephp3-test/config/app.php")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("put debug to false.")]),this._v(" "),e("li",[this._v("the database config")]),this._v(" "),e("li",[this._v("Email config (utf8 to uncomment)")]),this._v(" "),e("li",[this._v("Salt (normally already defined but check it)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"_4-locally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-locally","aria-hidden":"true"}},[this._v("#")]),this._v(" 4 Locally")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_4-1-gitignore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-gitignore","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1 Gitignore")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// Re-add tmp/ and logs/ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" .gitignore\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -a -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add gitignore rules again"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin master\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_4-2-add-a-git-hook-locally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-add-a-git-hook-locally","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2 Add a git hook locally")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-vim extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vim"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"require"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"phpunit/phpunit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cakephp/cakephp-codesniffer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dev-master"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"post-install-cmd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App\\\\Console\\\\Installer::postInstall"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"post-update-cmd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bash bin/setup.sh"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Don't forget to "),e("code",[this._v("chmod +x bin/setup.sh")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[this._v("#!/bin/sh")]),this._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("cp")]),this._v(" bin/pre-commit .git/hooks/pre-commit\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("chmod")]),this._v(" +x .git/hooks/pre-commit\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_4-3-create-your-project-add-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-create-your-project-add-plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.3 Create your project, add Plugins")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Now you can add everything you need in your project and then each time you push on your remote, it will deploy it in the "),e("code",[this._v("/volume1/web/cakephp3-test")]),this._v(" and launch a "),e("code",[this._v("composer install")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_4-4-another-computer-or-contributor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-another-computer-or-contributor","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.4 Another computer or contributor")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you need to install a copy of the project on another computer, you can just make "),e("code",[this._v("git clone ssh://syno_git/volume1/repositories/prod/cakephp3-test.git")]),this._v(".\nAnd launch composer install.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"_5-issues"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-issues","aria-hidden":"true"}},[this._v("#")]),this._v(" 5 Issues")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_5-1-mysql-mariadb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-mysql-mariadb","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.1 Mysql/MariaDb")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("I had to change my /etc/mysql/my.conf to increase the "),e("code",[this._v("max_allowed_packet = 10M")])])}],r=s(0),n=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("This is a tuto to create a CakePHP 3 project on a synology server and to deploy it.")]),t._v(" "),s("p",[t._v("A small schema to see how it works:")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("You need to have an access with ssh. If you want to setup one, go\nto this "),s("a",{attrs:{href:"http://cake17.github.io/2014/10/15/ssh-keys.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("po"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("So basically, you should be able to access to your remote with something like this::")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),s("p",[t._v("I took the script from this "),s("a",{attrs:{href:"http://www.sitepoint.com/one-click-app-deployment-server-side-git-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("website"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("Panneau de Configuration/Applications/Services Web/\nClick on Hôte Virtuel")]),t._v(" "),t._m(18),t._m(19),t._v(" "),s("p",[t._v("Go to your www.nomdomaine.com and watch debug info")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),s("p",[t._v("Change the following sections:")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),s("p",[t._v("First add the cakephp-codesniffer and phpunit in composer.json.\nGo "),s("a",{attrs:{href:"http://cake17.github.io/2014/10/15/tips-cakephp3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(" if you need more information on how to install.")]),t._v(" "),s("p",[t._v("Basically add this in composer.json:")]),t._v(" "),t._m(28),s("p",[t._v("I got "),s("a",{attrs:{href:"http://tech.zumba.com/2014/04/14/control-code-quality/",target:"_blank",rel:"noopener noreferrer"}},[t._v("help from here"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Add a bin/pre-commit file (see link)")]),t._v(" "),s("p",[t._v("And a setup.sh file that composer will launch, put this in scripts section:")]),t._v(" "),t._m(29),t._m(30),t._v(" "),t._m(31),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38)])},a,!1,null,null,null);e.default=n.exports}}]);