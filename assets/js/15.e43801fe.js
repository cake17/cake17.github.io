(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{189:function(e,s,t){"use strict";t.r(s);var r=t(0),a=Object(r.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),t("p",[e._v("Les clés fonctionnent par 2 :")]),e._v(" "),e._m(3),e._v(" "),t("p",[e._v("Le principe d'un chiffrement asymétrique est le suivant :")]),e._v(" "),t("p",[e._v("Supposons que Robert souhaite envoyer un message à Marie. Robert a la clé publique de Marie, et il va chiffrer le message à envoyer avec la clé publique de Marie. Ainsi, seul Marie pourra déchiffrer le message avec sa clé privée (les deux clés marchent ensemble). Quelqu'un qui récupère le message ne pourra déchiffrer le message puisqu'il n'a pas la clé privée de Marie.")]),e._v(" "),t("p",[e._v("Il y aussi une autre utilité des clés asymétriques. Elles permettent à Robert par exemple de prouver qu'il est bien l'émetteur du message. Marie a la clé publique de Robert puisque les clés publiques sont divulguées sur le réseau. Quand Robert envoie son message, il peut chiffrer son message avec sa clé privée et Marie pourra utiliser la clé publique de Robert pour vérifier que le message est bien de Robert.")]),e._v(" "),t("p",[e._v("Il y a deux types de chiffrement RSA et DSA")]),e._v(" "),e._m(4),e._v(" "),t("p",[e._v("Dans notre cas, pour les clés ssh du serveur Synology, on a créé les clés suivantes")]),e._v(" "),e._m(5),e._v(" "),t("p",[e._v("Pour en générer une pour un nouvel utilisateur (-t = type, -b = nb de bytes) :")]),e._v(" "),e._m(6),t("p",[e._v("Il va demander le nom de la clé (ex : github_rsa)")]),e._v(" "),t("p",[e._v("Mettre un passphrase du genre : lescarottessontcuites.")]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),t("p",[e._v("Allez dans ce fichier et rajoutez à la suite votre clé publique (ex : gandi_rsa.pub)")]),e._v(" "),t("p",[e._v("Sinon, la nouvelle interface d'administration web de Simple Hosting permet d'ajouter des clés SSH (ajoutera basiquement les clés dans le fichier cité plus haut)")]),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),t("p",[e._v("Attention aux permissions sur les fichiers (voir "),t("a",{attrs:{href:"http://www.xrings.net/xrings/article.php3?id_article=79",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.xrings.net/xrings/article.php3?id_article=79"),t("OutboundLink")],1),e._v(")")]),e._v(" "),e._m(17),e._m(18),e._v(" "),e._m(19),e._v(" "),t("p",[e._v("changer les fichiers si nécessaire et ensuite utiliser le terminal pour faire les changements via git")]),e._v(" "),t("p",[e._v("gitolite-admin est un dépôt git qui se met à jour comme les autres dépôts avec les commandes git")]),e._v(" "),e._m(20),e._v(" "),t("p",[t("a",{attrs:{href:"http://www.git-attitude.fr/2010/09/13/comprendre-et-maitriser-les-cles-ssh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.git-attitude.fr/2010/09/13/comprendre-et-maitriser-les-cles-ssh/"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"http://benjamin-balet.info/multimedia/utiliser-les-fonctions-ssh-ou-telnet-du-synology/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://benjamin-balet.info/multimedia/utiliser-les-fonctions-ssh-ou-telnet-du-synology/"),t("OutboundLink")],1)])])},[function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"cles-ssh-sur-l’ordi-en-local"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cles-ssh-sur-l’ordi-en-local","aria-hidden":"true"}},[this._v("#")]),this._v(" CLES SSH SUR L’ORDI EN LOCAL")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Les clés se trouvent dans le dossier "),s("code",[this._v("/Users/nomUtilisateur/.ssh/")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Pour voir les clés installées sur l’ordi : "),s("code",[this._v("ls -lAF ~/.ssh")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[this._v("une clé privée (ex : github_rsa) : à ne jamais divulguer !")]),this._v(" "),s("li",[this._v("et une clé publique (ex : github_rsa.pub) : avec extension .pub")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("On peut vérifier les identités des serveurs dans : "),s("code",[this._v("~/.ssh/known_hosts")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[this._v("clé publique : syno_rsa.pub")]),this._v(" "),s("li",[this._v("et clé privée : syno_rsa")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("ssh-keygen -t rsa -b 2048\n")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Si on souhaite changer la passphrase (cad entrer une phrase qui va renforcer la sécurité de la clé privée), on fait : "),s("code",[this._v("ssh-keygen -p -f ~/.ssh/le_fichier_de_cle")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Pour supprimer une clé : "),s("code",[this._v("ssh-keygen -R <nom_du serveur_SSH>")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Dans le fichier "),s("code",[this._v("~/.ssh/authorized_keys")]),this._v(", on retrouve toutes les clés publiques dont les titulaires peuvent accéder à votre compte via SSH")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Dans le fichier "),s("code",[this._v(".ssh/config")]),this._v(", mettre les données suivantes :")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language-vim extra-class"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[e._v("# Default GitHub user\nHost github"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("com")]),e._v("\nHostName github"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("com")]),e._v("\nPreferredAuthentications publickey\nIdentityFile ~"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("ssh"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("github_rsa\n\n# Default Bitbucket user\nHost bitbucket"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("org\nHostName bitbucket"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("org\nPreferredAuthentications publickey\nIdentityFile ~"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("ssh"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("bitbucket\n\n# Default Gandi user\nHost git"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("dc0"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("gpaas"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("net\nHostName git"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("dc0"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("gpaas"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("net\nPreferredAuthentications publickey\nIdentityFile ~"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("ssh"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("gandi_rsa\n\n# Default Synology user\nHost domaine #Permet de taper ensuite `ssh domaine`\nHostName domaine"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("com")]),e._v("\nPreferredAuthentications publickey\nIdentityFile ~"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(".")]),e._v("ssh"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("synology_rsa\nPort "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("22")]),e._v("\n")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"cles-ssh-sur-le-serveur-gandi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cles-ssh-sur-le-serveur-gandi","aria-hidden":"true"}},[this._v("#")]),this._v(" CLES SSH SUR LE SERVEUR GANDI")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Se connecter en sftp et aller dans "),s("code",[this._v(".ssh/")]),this._v(" (attention, ce dossier est caché, donc allez dans les options du sftp pour les afficher)")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Créer un fichier "),s("code",[this._v("authorized_keys")]),this._v(" dans ce dossier si il n'existe pas déjà.")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"synology"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#synology","aria-hidden":"true"}},[this._v("#")]),this._v(" SYNOLOGY")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("Se connecter avec git sur le web diskstation synology, puis aller dans le fichier "),s("code",[this._v("/volume1/home/.ssh/authorized_keys")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("chmod")]),this._v(" 644 .ssh/authorized_keys\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("chmod")]),this._v(" 600 .ssh\n")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"pour-changer-des-options-de-gitolite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pour-changer-des-options-de-gitolite","aria-hidden":"true"}},[this._v("#")]),this._v(" POUR CHANGER DES OPTIONS DE GITOLITE")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("allez dans le dossier "),s("code",[this._v("/Users/user/gitolite-admin")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"references"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references","aria-hidden":"true"}},[this._v("#")]),this._v(" Références")])}],!1,null,null,null);s.default=a.exports}}]);